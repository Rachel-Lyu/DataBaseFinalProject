{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/zhu/Code/IdeaProjects/ticket/src/page/LoginPage.js\";\nimport React from \"react\";\nimport Link from \"react\";\nimport { Button, Checkbox, Form, Input } from 'antd';\nimport 'antd/dist/antd.css';\nimport { BrowserRouter } from \"react-router-dom\";\nexport default class LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = () => {\n      let id = this.state.id;\n      let pw = this.state.pw;\n      fetch('api/api/login?id=' + id + \"&password=\" + pw, {\n        method: 'GET',\n        cache: 'default'\n      }).then(rsp => rsp.json().then(rsp => {\n        if (rsp.code != 0) console.log(rsp);else {\n          console.log(rsp);\n          localStorage.setItem('log', 1);\n          this.props.history.push(\"/tickets\");\n        }\n      }));\n    };\n\n    this.state = {\n      id: \"\",\n      pw: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: \"500px\",\n          padding: \"15px\",\n          margin: \"0 auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"login-form\",\n          initialValues: {\n            remember: true\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"id\",\n            rules: [{\n              required: true,\n              message: '请输入id'\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              id: \"id\",\n              placeholder: \"id\",\n              onChange: e => {\n                this.setState({\n                  id: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: '请输入密码'\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              id: \"pwInput\",\n              type: \"password\",\n              placeholder: \"\\u5BC6\\u7801\",\n              onChange: e => {\n                this.setState({\n                  pw: e.target.value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"remember\",\n              valuePropName: \"checked\",\n              noStyle: true,\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                children: \"\\u8BB0\\u4F4F\\u6211\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              \"data-cy\": \"login\",\n              type: \"primary\",\n              htmlType: \"submit\",\n              className: \"login-form-button\",\n              onClick: () => this.login(),\n              children: \"\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), \"\\u6216\\u8005 \", /*#__PURE__*/_jsxDEV(\"a\", {\n              \"data-cy\": \"goToRegister\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => this.props.history.push(\"/register\"),\n                children: \"\\u7ACB\\u523B\\u6CE8\\u518C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/zhu/Code/IdeaProjects/ticket/src/page/LoginPage.js"],"names":["React","Link","Button","Checkbox","Form","Input","BrowserRouter","LoginPage","Component","constructor","props","login","id","state","pw","fetch","method","cache","then","rsp","json","code","console","log","localStorage","setItem","history","push","render","maxWidth","padding","margin","remember","required","message","e","setState","target","value"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,OAAjB;AACA,SAAQC,MAAR,EAAgBC,QAAhB,EAA0BC,IAA1B,EAAgCC,KAAhC,QAA4C,MAA5C;AACA,OAAO,oBAAP;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AAEA,eAAe,MAAMC,SAAN,SAAwBP,KAAK,CAACQ,SAA9B,CAAwC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,KARmB,GAQX,MAAM;AACV,UAAIC,EAAE,GAAG,KAAKC,KAAL,CAAWD,EAApB;AACA,UAAIE,EAAE,GAAG,KAAKD,KAAL,CAAWC,EAApB;AACAC,MAAAA,KAAK,CAAC,sBAAoBH,EAApB,GAAuB,YAAvB,GAAoCE,EAArC,EAAwC;AACzCE,QAAAA,MAAM,EAAC,KADkC;AAEzCC,QAAAA,KAAK,EAAC;AAFmC,OAAxC,CAAL,CAGGC,IAHH,CAGQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,GAAWF,IAAX,CAAgBC,GAAG,IAAI;AAClC,YAAGA,GAAG,CAACE,IAAJ,IAAU,CAAb,EACIC,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EADJ,KAEK;AACDG,UAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACAK,UAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA2B,CAA3B;AACA,eAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ,OARc,CAHf;AAYH,KAvBkB;;AAEf,SAAKd,KAAL,GAAa;AACTD,MAAAA,EAAE,EAAE,EADK;AAETE,MAAAA,EAAE,EAAE;AAFK,KAAb;AAIH;;AAoBDc,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI;AAAK,QAAA,KAAK,EAAE;AACRC,UAAAA,QAAQ,EAAE,OADF;AAERC,UAAAA,OAAO,EAAE,MAFD;AAGRC,UAAAA,MAAM,EAAE;AAHA,SAAZ;AAAA,+BAKI,QAAC,IAAD;AACI,UAAA,SAAS,EAAC,YADd;AAEI,UAAA,aAAa,EAAE;AACXC,YAAAA,QAAQ,EAAE;AADC,WAFnB;AAAA,kCAMI,QAAC,IAAD,CAAM,IAAN;AACI,YAAA,IAAI,EAAC,IADT;AAEI,YAAA,KAAK,EAAE,CACH;AACIC,cAAAA,QAAQ,EAAE,IADd;AAEIC,cAAAA,OAAO,EAAE;AAFb,aADG,CAFX;AAAA,mCASI,QAAC,KAAD;AACI,cAAA,EAAE,EAAC,IADP;AAEI,cAAA,WAAW,EAAC,IAFhB;AAGI,cAAA,QAAQ,EAAGC,CAAD,IAAO;AACb,qBAAKC,QAAL,CAAc;AAACxB,kBAAAA,EAAE,EAAEuB,CAAC,CAACE,MAAF,CAASC;AAAd,iBAAd;AACH;AALL;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,kBANJ,eAuBI,QAAC,IAAD,CAAM,IAAN;AACI,YAAA,IAAI,EAAC,UADT;AAEI,YAAA,KAAK,EAAE,CACH;AACIL,cAAAA,QAAQ,EAAE,IADd;AAEIC,cAAAA,OAAO,EAAE;AAFb,aADG,CAFX;AAAA,mCASI,QAAC,KAAD;AACI,cAAA,EAAE,EAAC,SADP;AAEI,cAAA,IAAI,EAAC,UAFT;AAGI,cAAA,WAAW,EAAC,cAHhB;AAII,cAAA,QAAQ,EAAGC,CAAD,IAAO;AACb,qBAAKC,QAAL,CAAc;AAACtB,kBAAAA,EAAE,EAAEqB,CAAC,CAACE,MAAF,CAASC;AAAd,iBAAd;AACH;AANL;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,kBAvBJ,eAyCI,QAAC,IAAD,CAAM,IAAN;AAAA,mCACI,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,IAAI,EAAC,UAAhB;AAA2B,cAAA,aAAa,EAAC,SAAzC;AAAmD,cAAA,OAAO,MAA1D;AAAA,qCACI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAzCJ,eA+CI,QAAC,IAAD,CAAM,IAAN;AAAA,oCACI,QAAC,MAAD;AACI,yBAAQ,OADZ;AAEI,cAAA,IAAI,EAAC,SAFT;AAGI,cAAA,QAAQ,EAAC,QAHb;AAII,cAAA,SAAS,EAAC,mBAJd;AAKI,cAAA,OAAO,EAAE,MAAM,KAAK3B,KAAL,EALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,gCAUO;AAAG,yBAAQ,cAAX;AAAA,qCAA0B;AAC7B,gBAAA,OAAO,EAAE,MAAM,KAAKD,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,CADc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1B;AAAA;AAAA;AAAA;AAAA,oBAVP;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/CJ;AAAA;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA0EH;;AAtGkD","sourcesContent":["import React from \"react\";\r\nimport Link from \"react\";\r\nimport {Button, Checkbox, Form, Input} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nexport default class LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: \"\",\r\n            pw: \"\",\r\n        }\r\n    }\r\n\r\n    login = () => {\r\n        let id = this.state.id\r\n        let pw = this.state.pw\r\n        fetch('api/api/login?id='+id+\"&password=\"+pw,{\r\n            method:'GET',\r\n            cache:'default'\r\n        }).then(rsp => rsp.json().then(rsp => {\r\n            if(rsp.code!=0)\r\n                console.log(rsp);\r\n            else {\r\n                console.log(rsp);\r\n                localStorage.setItem('log',1);\r\n                this.props.history.push(\"/tickets\")\r\n            }\r\n        }))\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div style={{\r\n                    maxWidth: \"500px\",\r\n                    padding: \"15px\",\r\n                    margin: \"0 auto\"\r\n                }}>\r\n                    <Form\r\n                        className=\"login-form\"\r\n                        initialValues={{\r\n                            remember: true,\r\n                        }}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"id\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入id',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                id=\"id\"\r\n                                placeholder=\"id\"\r\n                                onChange={(e) => {\r\n                                    this.setState({id: e.target.value})\r\n                                }}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入密码',\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                id=\"pwInput\"\r\n                                type=\"password\"\r\n                                placeholder=\"密码\"\r\n                                onChange={(e) => {\r\n                                    this.setState({pw: e.target.value})\r\n                                }}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                                <Checkbox>记住我</Checkbox>\r\n                            </Form.Item>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button\r\n                                data-cy=\"login\"\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                className=\"login-form-button\"\r\n                                onClick={() => this.login()}\r\n                            >\r\n                                登录\r\n                            </Button>\r\n                            或者 <a data-cy=\"goToRegister\"><span\r\n                            onClick={() => this.props.history.push(\"/register\")}>立刻注册\r\n                            </span>\r\n                        </a>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}