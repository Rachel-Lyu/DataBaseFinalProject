{"ast":null,"code":"import _classCallCheck from\"/home/zhu/Code/IdeaProjects/ticket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/zhu/Code/IdeaProjects/ticket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/zhu/Code/IdeaProjects/ticket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/zhu/Code/IdeaProjects/ticket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import{getFetch}from\"../function/fetch\";import{Descriptions,Badge,Button,Col}from'antd';var TicketInfoPage=/*#__PURE__*/function(_React$Component){_inherits(TicketInfoPage,_React$Component);var _super=_createSuper(TicketInfoPage);function TicketInfoPage(){var _this;_classCallCheck(this,TicketInfoPage);_this=_super.call(this);_this.state={ticketName:null,beginTime:null,endTime:null,typeName:null,price:null,availableNumber:null,detail:null};return _this;}_createClass(TicketInfoPage,[{key:\"buy\",value:function buy(userId,ticketId){var _this2=this;getFetch(\"/order/createOrder?userId=\"+userId+\"&ticketId=\"+ticketId,\"\",function(rsp){alert(rsp.msg);_this2.props.history.goBack();});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;getFetch(\"/ticket/getOne?ticketId=\"+this.props.match.params.ticketId,'',function(rsp){console.log(rsp);_this3.setState({ticketName:rsp.ticketName,beginTime:rsp.beginTime,endTime:rsp.endTime,typeName:rsp.typeName,price:rsp.price,availableNumber:rsp.availableNumber,detail:rsp.detail});console.log(_this3.state);});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(Col,{span:12,offset:6,children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",style:{float:\"right\"},onClick:function onClick(){_this4.props.history.goBack();},children:\"\\u8FD4\\u56DE\"}),/*#__PURE__*/_jsxs(Descriptions,{title:\"\\u6F14\\u51FA\\u8BE6\\u60C5\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u6F14\\u51FA\\u540D\\u79F0\",children:this.state.ticketName}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u5F00\\u59CB\\u65F6\\u95F4\",children:this.state.beginTime}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u7ED3\\u675F\\u65F6\\u95F4\",children:this.state.endTime}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u6240\\u5C5E\\u7C7B\\u578B\",children:this.state.typeName}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u4EF7\\u683C\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:this.state.price})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u5269\\u4F59\\u540D\\u989D\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"blue\"},children:this.state.availableNumber})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u6F14\\u51FA\\u8BE6\\u60C5\",span:3,children:this.state.detail})]}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return _this4.buy(_this4.props.match.params.ticketId);},children:\"\\u8D2D\\u4E70\"})]});}}]);return TicketInfoPage;}(React.Component);export{TicketInfoPage as default};","map":{"version":3,"sources":["/home/zhu/Code/IdeaProjects/ticket/src/page/TicketDetailPage.js"],"names":["React","getFetch","Descriptions","Badge","Button","Col","TicketInfoPage","state","ticketName","beginTime","endTime","typeName","price","availableNumber","detail","userId","ticketId","rsp","alert","msg","props","history","goBack","match","params","console","log","setState","float","color","buy","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {getFetch} from \"../function/fetch\";\nimport {Descriptions, Badge, Button, Col} from 'antd';\n\nexport default class TicketInfoPage extends React.Component {\n    constructor() {\n        super();\n        this.state={\n            ticketName:null,\n            beginTime:null,\n            endTime:null,\n            typeName:null,\n            price:null,\n            availableNumber:null,\n            detail:null\n        }\n    }\n\n    buy(userId,ticketId){\n        getFetch(\"/order/createOrder?userId=\"+userId+\"&ticketId=\"+ticketId,\"\",(rsp)=>{\n            alert(rsp.msg);\n            this.props.history.goBack();\n        })\n    }\n\n    componentDidMount() {\n        getFetch(\"/ticket/getOne?ticketId=\"+this.props.match.params.ticketId,'',(rsp)=>{\n            console.log(rsp);\n            this.setState({\n                ticketName:rsp.ticketName,\n                beginTime:rsp.beginTime,\n                endTime:rsp.endTime,\n                typeName:rsp.typeName,\n                price:rsp.price,\n                availableNumber:rsp.availableNumber,\n                detail:rsp.detail\n            })\n            console.log(this.state)\n        })\n    }\n\n    render(){\n        return (\n            <Col span={12} offset={6}>\n                <Button type=\"primary\" style={{float:\"right\"}} onClick={()=>{\n                    this.props.history.goBack();\n                }}>返回</Button>\n            <Descriptions title=\"演出详情\" bordered>\n                <Descriptions.Item label=\"演出名称\">{this.state.ticketName}</Descriptions.Item>\n                <Descriptions.Item label=\"开始时间\">{this.state.beginTime}</Descriptions.Item>\n                <Descriptions.Item label=\"结束时间\">{this.state.endTime}</Descriptions.Item>\n                <Descriptions.Item label=\"所属类型\">{this.state.typeName}</Descriptions.Item>\n                <Descriptions.Item label=\"价格\"><span style={{color:\"red\"}}>{this.state.price}</span></Descriptions.Item>\n                <Descriptions.Item label=\"剩余名额\"><span style={{color:\"blue\"}}>{this.state.availableNumber}</span></Descriptions.Item>\n                <Descriptions.Item label=\"演出详情\" span={3}>\n                    {this.state.detail}\n                </Descriptions.Item>\n            </Descriptions>\n                <Button type=\"primary\" onClick={()=>this.buy(this.props.match.params.ticketId)}>购买</Button>\n            </Col>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}